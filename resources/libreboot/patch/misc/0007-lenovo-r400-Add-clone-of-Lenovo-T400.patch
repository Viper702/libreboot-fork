From 199e542660a3a9947051485fa1b5b8f6e2fd6495 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Micha=C5=82=20Mas=C5=82owski?= <mtjm@mtjm.eu>
Date: Tue, 3 Feb 2015 23:26:05 +0100
Subject: [PATCH 7/9] lenovo/r400: Add clone of Lenovo T400
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The existing code for the Lenovo T400 works without changes on the
Lenovo R400.  Same HDA verbs are provided by Lenovo BIOS on both
laptops.

Change-Id: I1dadddd7250ab80a4c40c2435865d72e3e5d99c9
Signed-off-by: Michał Masłowski <mtjm@mtjm.eu>
Signed-off-by: Leah Rowe <info@minifree.org>
---
 src/mainboard/lenovo/r400/Kconfig        | 7 +++++++
 src/mainboard/lenovo/r400/Kconfig.name   | 2 ++
 src/mainboard/lenovo/r400/board_info.txt | 6 ++++++
 src/mainboard/lenovo/t400/Kconfig        | 6 +++++-
 4 files changed, 20 insertions(+), 1 deletion(-)
 create mode 100644 src/mainboard/lenovo/r400/Kconfig
 create mode 100644 src/mainboard/lenovo/r400/Kconfig.name
 create mode 100644 src/mainboard/lenovo/r400/board_info.txt

diff --git a/src/mainboard/lenovo/r400/Kconfig b/src/mainboard/lenovo/r400/Kconfig
new file mode 100644
index 0000000..0966bf1
--- /dev/null
+++ b/src/mainboard/lenovo/r400/Kconfig
@@ -0,0 +1,7 @@
+if BOARD_LENOVO_R400
+
+config MAINBOARD_PART_NUMBER
+	string
+	default "ThinkPad R400"
+
+endif
diff --git a/src/mainboard/lenovo/r400/Kconfig.name b/src/mainboard/lenovo/r400/Kconfig.name
new file mode 100644
index 0000000..15a99b1
--- /dev/null
+++ b/src/mainboard/lenovo/r400/Kconfig.name
@@ -0,0 +1,2 @@
+config BOARD_LENOVO_R400
+	bool "ThinkPad R400"
diff --git a/src/mainboard/lenovo/r400/board_info.txt b/src/mainboard/lenovo/r400/board_info.txt
new file mode 100644
index 0000000..007ec6c
--- /dev/null
+++ b/src/mainboard/lenovo/r400/board_info.txt
@@ -0,0 +1,6 @@
+Category: laptop
+ROM package: SOIC-16 or SOIC-8
+ROM protocol: SPI
+ROM socketed: n
+Flashrom support: n
+Clone of: lenovo/t400
diff --git a/src/mainboard/lenovo/t400/Kconfig b/src/mainboard/lenovo/t400/Kconfig
index e410f20..467cd63 100644
--- a/src/mainboard/lenovo/t400/Kconfig
+++ b/src/mainboard/lenovo/t400/Kconfig
@@ -1,4 +1,4 @@
-if BOARD_LENOVO_T400
+if BOARD_LENOVO_T400 || BOARD_LENOVO_R400
 
 config BOARD_SPECIFIC_OPTIONS # dummy
 	def_bool y
@@ -27,10 +27,14 @@ config MAINBOARD_DIR
 	string
 	default lenovo/t400
 
+if BOARD_LENOVO_T400
+
 config MAINBOARD_PART_NUMBER
 	string
 	default "ThinkPad T400"
 
+endif
+
 config MMCONF_BASE_ADDRESS
 	hex
 	default 0xf0000000
-- 
1.9.1

